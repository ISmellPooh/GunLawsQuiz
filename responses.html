<!DOCTYPE html>
<html>
    <head>
        <title>GunLawsQuiz</title>
        <!-- This meta tag make the text scale correctly on desktop AND mobile browsers. -->
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- This link and 2 scripts load the Bootstrap CSS stylesheet -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    </head>
    
    <body>
        <nav class="navbar navbar-expand-md navbar-dark bg-primary">
            <div class="container-fluid">
                <a class="navbar-brand" href="#">Gun Laws Quiz</a>
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#myNavbar">
                    <span class="navbar-toggler-icon"></span> 
                </button>
                <div class="collapse navbar-collapse" id="myNavbar">
                    <ul class="nav navbar-nav">
                        <li><a class="nav-link" href="index.html">Quiz</a></li>
                    </ul>
                </div>
    
            </div>
        </nav>

        <br>

        <div class="container-fluid">

            <div class="alert alert-primary" role="alert">
                These are the last responses to the quiz.
            </div>

            <form>
                <div class="form-group">
                    <label for="dataObjectAsString">dataObjectAsString:</label>
                    <textarea id="dataObjectAsString" rows="3"></textarea>
                </div>

                <div class="form-group">
                        <label for="personname">personname:</label>
                        <textarea id="personname" rows="1"></textarea>
                    </div>

                <div class="form-group">
                    <label for="question1">question1:</label>
                    <textarea id="question1" rows="1"></textarea>
                </div>

                <div class="form-group">
                    <label for="question2">question2:</label>
                    <textarea id="question2" rows="1"></textarea>
                </div>

                <div class="form-group">
                    <label for="question3">question3:</label>
                    <textarea id="question3" rows="1"></textarea>
                </div>

                <div class="form-group">
                    <label for="question4">question4:</label>
                    <textarea id="question4" rows="1"></textarea>
                </div>

                <div class="form-group">
                    <label for="question5">question5:</label>
                    <textarea id="question5" rows="1"></textarea>
                </div>

                <div class="form-group">
                    <label for="beararmsquestion">beararmsquestion:</label>
                    <textarea id="beararmsquestion" rows="1"></textarea>
                </div>
            </form>
        </div>

        <script>
            window.onload = function() { // Runs code on load
                fillFromLocalStorage();
            };

            function fillFromLocalStorage() {
                // Get the data object string from local storage and try to turn it back into an object.
                // This takes the data from local storage and sets the textbox to the values.
                var dataObjectAsString = window.localStorage.getItem("data");
                if (dataObjectAsString === null) {
                    return;
                }
                var dataObject = JSON.parse(dataObjectAsString);
                if (dataObject === null) {
                    return;
                }

                // We successfully got a data object and now textbox's can get the saved values.
                document.getElementById("dataObjectAsString").value = dataObjectAsString;
                document.getElementById("personname").value = dataObject.personname;
                document.getElementById("question1").value = dataObject.question1;
                document.getElementById("question2").value = dataObject.question2;
                document.getElementById("question3").value = dataObject.question3;
                document.getElementById("question4").value = dataObject.question4;
                document.getElementById("question5").value = dataObject.question5;
                document.getElementById("beararmsquestion").value = dataObject.beararmsAnswer;
            }

        </script>

    </body>
</html>